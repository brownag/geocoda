% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zonal_edge_handling.R
\name{.rescale_compositions}
\alias{.rescale_compositions}
\title{Validate and Rescale Compositions}
\usage{
.rescale_compositions(
  raster,
  comp_layer_pattern = "sim1$",
  target_sum = 100,
  tolerance = 0.5,
  verbose = FALSE
)
}
\arguments{
\item{raster}{terra::SpatRaster with compositional layers}

\item{comp_layer_pattern}{Regex pattern identifying compositional layers (e.g., "sim1$")}

\item{target_sum}{Target sum (default 100)}

\item{tolerance}{Allowable deviation before rescaling (default 0.5)}

\item{verbose}{Logical, report rescaling}
}
\value{
terra::SpatRaster, with sums corrected
}
\description{
Check that compositional columns sum to target and rescale if needed.
}
\keyword{internal}
