% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/block_support.R
\name{gc_average_block_ilr}
\alias{gc_average_block_ilr}
\title{Average Sub-Point ILR Values to Block Support}
\usage{
gc_average_block_ilr(sim_result, sub_points)
}
\arguments{
\item{sim_result}{Simulation result data frame with sub-point locations and ILR values.
Columns should include ILR simulation results (e.g., ilr1.sim1, ilr2.sim1, etc.)}

\item{sub_points}{Data frame from \code{\link[=gc_discretize_block]{gc_discretize_block()}} with block_id column
linking each row to its parent block}
}
\value{
Data frame with averaged ILR values per block per realization
\itemize{
\item Rows: One per block
\item Columns: ilr1.sim1, ilr1.sim2, ..., ilr2.sim1, ilr2.sim2, ...
(or equivalent MAF columns if MAF transformation was used)
}
}
\description{
Compute block-averaged ILR values from simulated sub-point results.
Averages across all sub-points within each block for each simulation realization.
}
\details{
\strong{Averaging operation:}
For each block B and simulation S:

\if{html}{\out{<div class="sourceCode">}}\preformatted{ILR_B^S = mean(ILR_ij^S : (i,j) âˆˆ sub-points of B)
}\if{html}{\out{</div>}}

This averaging is what creates the volume-variance relationship:
\itemize{
\item Block variance = Point variance / (number of sub-points)
\item Blocks are smoother than points (lower variance)
}
}
\examples{
\dontrun{
# After discretizing and simulating at sub-point support
sub_points <- gc_discretize_block(blocks, block_size = c(100, 100))
sim_points <- gc_sim_composition(model, sub_points, nsim = 10)

# Average to block support
block_sims <- gc_average_block_ilr(sim_points, sub_points)
}

}
