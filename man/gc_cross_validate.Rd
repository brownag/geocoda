% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics_advanced.R
\name{gc_cross_validate}
\alias{gc_cross_validate}
\title{Leave-One-Out Cross-Validation}
\usage{
gc_cross_validate(
  model,
  data,
  coords_cols,
  ilr_cols,
  compute_residuals = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{model}{A gstat kriging model object (from \code{gc_ilr_model()})}

\item{data}{Data frame with columns: point geometry and ILR values}

\item{coords_cols}{Character vector of length 2: names of x, y coordinate columns}

\item{ilr_cols}{Character vector: names of ILR columns (e.g., c("ilr1", "ilr2"))}

\item{compute_residuals}{Logical, compute standardized residuals (default TRUE)}

\item{verbose}{Logical, print progress (default TRUE)}
}
\value{
A data frame with columns:
\itemize{
\item One row per observation
\item \code{observed}: Actual value
\item \code{predicted_mean}: LOO prediction mean
\item \code{predicted_sd}: LOO prediction SD
\item \code{residual}: Observed - Predicted
\item \code{std_residual}: Standardized residual (residual / predicted_sd)
\item Additional diagnostics (coverage, error metrics)
}
}
\description{
Perform leave-one-out (LOO) cross-validation on a kriging model to assess
prediction accuracy without a separate test set. For each observation,
the model is refit without that observation and prediction error is computed.
}
\details{
Cross-validation assesses whether the model assumptions are reasonable:
\itemize{
\item \strong{RMSE}: Lower is better; units match ILR scale
\item \strong{Coverage}: ~95\% of residuals should fall within Â±1.96 SD
\item \strong{Standardized residuals}: Should be roughly Normal(0,1) if assumptions hold
}
}
\examples{
\dontrun{
data_with_ilr <- data.frame(
  x = c(10, 20, 30, 40, 50),
  y = c(10, 20, 30, 40, 50),
  ilr1 = rnorm(5), ilr2 = rnorm(5)
)

cv_results <- gc_cross_validate(
  model = model,
  data = data_with_ilr,
  coords_cols = c("x", "y"),
  ilr_cols = c("ilr1", "ilr2")
)

cat("LOO RMSE:", sqrt(mean(cv_results$residual^2)), "\n")
}

}
