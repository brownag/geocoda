% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stratigraphic_coordinates.R
\name{gc_define_surfaces}
\alias{gc_define_surfaces}
\title{Define Soil Horizon Surfaces for Stratigraphic Transformation}
\usage{
gc_define_surfaces(
  top_surface,
  bottom_surface,
  type = "constant",
  interpolation_method = "idw",
  extent = NULL,
  resolution = NULL,
  crs = "local"
)
}
\arguments{
\item{top_surface}{Numeric (constant elevation), terra::SpatRaster (DEM),
or data.frame with x, y, z columns (points to interpolate)}

\item{bottom_surface}{Same format as top_surface}

\item{type}{Character: "constant", "raster", or "interpolate"}

\item{interpolation_method}{If type = "interpolate": "idw", "kriging", or "spline"}

\item{extent}{terra::ext object defining spatial extent (required if type = "interpolate")}

\item{resolution}{Vector c(dx, dy) for interpolated rasters (required if type = "interpolate")}

\item{crs}{Coordinate reference system (default "local")}
}
\value{
List with:
\itemize{
\item top: terra::SpatRaster of top surface elevations
\item bottom: terra::SpatRaster of bottom surface elevations
\item thickness: terra::SpatRaster of (top - bottom)
\item type: Transformation type used
\item crs: Coordinate reference system
}
}
\description{
Creates surface definitions for top and bottom of stratigraphic unit.
Surfaces can be constant (flat), DEM-based, or interpolated from point data.
}
\details{
\strong{Surface Types}:
\itemize{
\item constant: Flat surfaces (e.g., top = 0, bottom = -100 for 0-100 cm depth)
\item raster: Existing DEM or interpolated horizon surfaces
\item interpolate: Point observations of horizon depths, interpolate to raster
}

\strong{Validation Checks}:
\itemize{
\item top > bottom everywhere (no inversions)
\item No NA values in overlap region
\item Thickness > 0 everywhere
\item Consistent CRS if rasters provided
}
}
\examples{
\dontrun{
# Constant surfaces (0-100 cm depth)
surfaces <- gc_define_surfaces(
  top_surface = 0,
  bottom_surface = -100,
  type = "constant",
  extent = terra::ext(c(0, 1000, 0, 1000)),
  resolution = c(10, 10)
)

# DEM-based (topsoil 0-30 cm)
dem <- terra::rast("elevation.tif")
surfaces <- gc_define_surfaces(
  top_surface = dem,
  bottom_surface = dem - 30,  # 30 cm below surface
  type = "raster"
)
}

}
