% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/block_support.R
\name{gc_discretize_block}
\alias{gc_discretize_block}
\title{Discretize Block into Sub-Points}
\usage{
gc_discretize_block(block_centers, block_size, discretization = c(4, 4))
}
\arguments{
\item{block_centers}{Data frame with x, y columns (block center coordinates)}

\item{block_size}{Vector c(dx, dy) specifying block dimensions (same units as coordinates)}

\item{discretization}{Vector c(nx, ny) specifying number of sub-points per dimension
(default c(4, 4) gives 16 sub-points per block)}
}
\value{
Data frame with columns:
\itemize{
\item x, y: Sub-point coordinates
\item block_id: Index linking sub-point to parent block
}
}
\description{
Subdivide a block (grid cell) into internal sub-points for covariance calculation.
Uses regular grid points centered within the block for uniform coverage.
}
\details{
\strong{Discretization strategy:}
\itemize{
\item Blocks are subdivided into regular grid of sub-points
\item Sub-points are centered within each sub-cell (not at corners)
\item Example: 4×4 discretization creates 16 evenly-spaced sub-points per block
\item Total sub-points = nrow(block_centers) × (nx × ny)
}

\strong{Block-support covariance computation:}
Block covariances are computed via double integration using sub-points:

\if{html}{\out{<div class="sourceCode">}}\preformatted{C_BB(h) = (1/V²) ∑∑ C(u_i - v_j) (approximate via sub-points)
}\if{html}{\out{</div>}}
}
\examples{
\dontrun{
# Create a 3×3 grid of blocks centered at regular intervals
blocks <- expand.grid(x = c(0, 100, 200), y = c(0, 100, 200))

# Discretize each block into 4×4 sub-points
sub_points <- gc_discretize_block(blocks, block_size = c(100, 100),
                                   discretization = c(4, 4))

# Total: 9 blocks × 16 sub-points = 144 sub-points
nrow(sub_points)  # 144

# Sub-points within first block
sub_points[sub_points$block_id == 1, ]
}

}
