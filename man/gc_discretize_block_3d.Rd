% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/block_support.R
\name{gc_discretize_block_3d}
\alias{gc_discretize_block_3d}
\title{Discretize 3D Block into Sub-Points}
\usage{
gc_discretize_block_3d(block_centers, block_size, discretization = c(3, 3, 3))
}
\arguments{
\item{block_centers}{Data frame with x, y, z columns (block center coordinates)}

\item{block_size}{Vector c(dx, dy, dz) specifying block dimensions (same units as coordinates)}

\item{discretization}{Vector c(nx, ny, nz) specifying number of sub-points per dimension
(default c(3, 3, 3) gives 27 sub-points per block)}
}
\value{
Data frame with columns:
\itemize{
\item x, y, z: Sub-point coordinates
\item block_id: Index linking sub-point to parent block
}
}
\description{
Subdivide a 3D block into internal sub-points for covariance calculation in 3D space.
Uses regular grid points centered within the block for uniform coverage.
}
\details{
\strong{Discretization strategy (3D extension):}
\itemize{
\item Blocks are subdivided into regular 3D grid of sub-points
\item Sub-points are centered within each sub-cell (not at corners)
\item Example: 3×3×3 discretization creates 27 evenly-spaced sub-points per block
\item Total sub-points = nrow(block_centers) × (nx × ny × nz)
\item Smaller discretization (3×3×3) recommended for 3D to manage computational cost
}

\strong{Block-support covariance computation:}
Block covariances are computed via triple integration using sub-points:

\if{html}{\out{<div class="sourceCode">}}\preformatted{C_BBB(h) = (1/V³) ∑∑∑ C(u_i - v_j - w_k) (approximate via sub-points)
}\if{html}{\out{</div>}}
}
\examples{
\dontrun{
# Create a 2×2×2 grid of 3D blocks
blocks <- expand.grid(x = c(0, 100), y = c(0, 100), z = c(10, 50))

# Discretize each block into 3×3×3 sub-points
sub_points <- gc_discretize_block_3d(blocks, block_size = c(100, 100, 40),
                                     discretization = c(3, 3, 3))

# Total: 8 blocks × 27 sub-points = 216 sub-points
nrow(sub_points)  # 216
}

}
