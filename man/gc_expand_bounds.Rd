% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_prep.R
\name{gc_expand_bounds}
\alias{gc_expand_bounds}
\title{Expand Compositional Bounds into a Valid Grid}
\usage{
gc_expand_bounds(constraints, step = 0.1, target_sum = 100, tol = 1e-06)
}
\arguments{
\item{constraints}{A named list of lists or data frame containing \code{min} and
\code{max} for each component. Example: \code{list(SAND = list(min = 0, max = 40), SILT = list(min = 50, max = 80), CLAY = list(min = 10, max = 20))}.}

\item{step}{Numeric resolution for the grid sequences (default 0.1).}

\item{target_sum}{Numeric constant sum for valid compositions (default 100).}

\item{tol}{Floating-point tolerance for sum constraint (default 1e-6).}
}
\value{
A data frame where columns are components and rows are valid
compositions summing to \code{target_sum}.
}
\description{
Generate a grid of valid compositions from component constraints. Uses
\code{expand.grid()} to create combinations of sequential component values
within specified bounds, then filters to rows where component sums equal the
target sum (within floating-point tolerance).
}
\details{
This function performs:
\enumerate{
\item Validation that min values do not sum to more than \code{target_sum}
\item Dynamic sequence generation for each component based on bounds
\item Cartesian product expansion via \code{expand.grid()}
\item Filtering to compositions with sum approximately equal to \code{target_sum}
}
}
\examples{
# Define sand, silt, clay bounds
constraints <- list(
  SAND = list(min = 0, max = 40),
  SILT = list(min = 50, max = 80),
  CLAY = list(min = 10, max = 20)
)

# Expand with 1\% resolution
grid <- gc_expand_bounds(constraints, step = 1.0, target_sum = 100)
nrow(grid)
head(grid)

}
\references{
Aitchison, J. (1986). The Statistical Analysis of Compositional Data.
Chapman and Hall, London.
}
