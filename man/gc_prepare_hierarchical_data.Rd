% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sda_integration.R
\name{gc_prepare_hierarchical_data}
\alias{gc_prepare_hierarchical_data}
\title{Prepare Data for Hierarchical ILR Modeling}
\usage{
gc_prepare_hierarchical_data(
  ssurgo_compositions,
  field_observations = NULL,
  component_cols,
  zone_assignment = NULL,
  combine_method = "field_priority",
  verbose = TRUE
)
}
\arguments{
\item{ssurgo_compositions}{Data frame of SSURGO composition data
(from \code{gc_process_ssurgo_components()})}

\item{field_observations}{Optional data frame of field soil pit observations}

\item{component_cols}{Character vector, composition column names}

\item{zone_assignment}{Optional function or data frame assigning records to zones}

\item{combine_method}{Character: "field_priority" (default), "equal_weight", or "ssurgo_only"}

\item{verbose}{Logical, print processing details (default TRUE)}
}
\value{
A data frame with columns:
\itemize{
\item \code{ilr1}, \code{ilr2}: ILR-transformed components
\item \code{zone}: Zone assignment (if zone_assignment provided)
\item \code{source}: "field", "ssurgo", or "combined"
\item \code{weight}: Data weight for Bayesian modeling
\item \code{depth_cm}: Depth (if available)
\item Metadata columns
}
}
\description{
Convert SSURGO composition data and optional field observations into
hierarchical ILR-transformed data ready for \code{gc_fit_hierarchical_model()}.
}
\examples{
\dontrun{
# Prepare hierarchical data
ilr_data <- gc_prepare_hierarchical_data(
  ssurgo_compositions = ssurgo_processed$compositions,
  field_observations = field_data,
  component_cols = c("sand", "silt", "clay"),
  combine_method = "field_priority"
)

head(ilr_data)
}

}
