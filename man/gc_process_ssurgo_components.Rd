% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sda_integration.R
\name{gc_process_ssurgo_components}
\alias{gc_process_ssurgo_components}
\title{Process Component-Level SSURGO Data}
\usage{
gc_process_ssurgo_components(
  ssurgo_data,
  component_cols,
  aggregate_method = "weighted_mean",
  weight_field = "comppct",
  depth_weights = TRUE,
  min_confidence = 0,
  verbose = TRUE
)
}
\arguments{
\item{ssurgo_data}{Data frame from \code{gc_fetch_sda_properties()} with component records}

\item{component_cols}{Character vector, names of composition columns
(e.g., c("sandtotal_r", "silttotal_r", "claytotal_r"))}

\item{aggregate_method}{Character: "weighted_mean" (default), "component_best",
or "representative_component"}

\item{weight_field}{Character, column name for weighting
(default "comppct" for component percent)}

\item{depth_weights}{Logical, apply depth-specific weighting (default TRUE)}

\item{min_confidence}{Numeric, exclude component data below confidence threshold
(default 0, range 0-100)}

\item{verbose}{Logical, print processing details (default TRUE)}
}
\value{
A list with elements:
\itemize{
\item \code{compositions}: Data frame of aggregated compositions
\item \code{component_summary}: Data frame of per-component statistics
\item \code{aggregation_method}: Method used
\item \code{n_map_units}: Number of unique map units processed
\item \code{n_components_raw}: Components before aggregation
\item \code{n_records_final}: Records in final output
}
}
\description{
Transform raw component-level SSURGO data into ILR-compatible composition data
with hierarchical aggregation and weighting strategies.
}
\details{
Aggregation methods:
\itemize{
\item \strong{weighted_mean}: Component-weighted arithmetic mean (best practice)
\item \strong{component_best}: Use only component with highest comppct per map unit
\item \strong{representative_component}: Use pre-designated SSURGO representative component
}
}
\examples{
\dontrun{
ssurgo_raw <- gc_fetch_sda_properties(extent = study_area)

ssurgo_processed <- gc_process_ssurgo_components(
  ssurgo_data = ssurgo_raw,
  component_cols = c("sandtotal_r", "silttotal_r", "claytotal_r"),
  aggregate_method = "weighted_mean"
)

head(ssurgo_processed$compositions)
}

}
