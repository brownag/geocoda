% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_prep.R
\name{gc_resample_compositions}
\alias{gc_resample_compositions}
\title{Bootstrap Compositional Samples}
\usage{
gc_resample_compositions(
  composition_grid,
  n = 1000,
  method = "uniform",
  seed = NULL
)
}
\arguments{
\item{composition_grid}{A data frame of valid compositions (typically output
from \code{gc_expand_bounds()}).}

\item{n}{Number of samples to draw (default 1000).}

\item{method}{Sampling method: \code{"uniform"} (simple random sampling) or
\code{"soil_texture"} (uses \code{\link[aqp:bootstrapSoilTexture]{aqp::bootstrapSoilTexture()}} if available,
falls back to uniform if not).}

\item{seed}{Optional random seed for reproducibility.}
}
\value{
A list with:
\itemize{
\item \code{samples}: A data frame of sampled compositions.
\item \code{method}: The method used.
\item \code{n}: Number of samples requested.
}
}
\description{
Draw samples from a valid composition grid to create a "source population"
for estimating covariance structure in ILR space. Supports both uniform
random sampling and soil texture-aware bootstrapping (if \code{aqp} is available).
}
\details{
\itemize{
\item \strong{Uniform sampling}: Performs simple random sampling of row indices without
replacement. If \code{n > nrow(composition_grid)}, samples with replacement.
\item \strong{Soil texture sampling}: Attempts to delegate to
\code{aqp::bootstrapSoilTexture()}. If \code{aqp} is not installed, falls back to
uniform sampling with a warning.
}
}
\examples{
# Create a simple composition grid
constraints <- list(
  SAND = list(min = 0, max = 40),
  SILT = list(min = 50, max = 80),
  CLAY = list(min = 10, max = 20)
)
grid <- gc_expand_bounds(constraints, step = 1.0, target_sum = 100)

# Uniform sampling
set.seed(42)
uniform_samps <- gc_resample_compositions(grid, n = 100, method = "uniform")
nrow(uniform_samps$samples)

}
