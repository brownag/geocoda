% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zonal_simulation.R
\name{gc_simulate_by_zones}
\alias{gc_simulate_by_zones}
\title{Simulate Compositional Data Within Vector or Raster Zones (High-Level Wrapper)}
\usage{
gc_simulate_by_zones(
  zones,
  data,
  extent,
  resolution = NA,
  zone_id_column = NULL,
  nsim = 1,
  model_type = "univariate",
  vgm_per_zone = TRUE,
  edge_handling = "buffer",
  verbose = TRUE
)
}
\arguments{
\item{zones}{An sf object (polygons) or terra::SpatRaster with zone boundaries.}

\item{data}{An sf object or data frame with sample coordinates and compositional data.}

\item{extent}{An sf object or terra::SpatRaster defining simulation output extent.}

\item{resolution}{Numeric. Grid cell size in map units (default NA; derive from extent if SpatRaster).}

\item{zone_id_column}{Character. Column name in \code{data} containing zone IDs.
If NULL (default), performs spatial join.}

\item{nsim}{Numeric. Number of realizations per zone (default 1).}

\item{model_type}{Character. \code{"univariate"} (default) or \code{"lmc"}.}

\item{vgm_per_zone}{Logical. Fit separate variogram per zone (default TRUE).}

\item{edge_handling}{Character. Zone boundary strategy: \code{"buffer"}, \code{"clip"}, \code{"overlap"}.}

\item{verbose}{Logical. Print progress (default TRUE).}
}
\value{
terra::SpatRaster with zone tessellation. See \code{gc_simulate_zones()} for layer naming.
}
\description{
Execute complete zone-based simulation workflow in a single call: data preparation,
model fitting, simulation, and stitching.
}
\details{
This is a convenience wrapper that calls:
\enumerate{
\item \code{gc_prepare_zone_data()} - Extract zone-specific samples
\item \code{gc_fit_zone_models()} - Build per-zone models
\item \code{gc_simulate_zones()} - Generate and stitch realizations
}

For customization (e.g., regional variogram, skip_sparse=FALSE), call the
constituent functions directly.
}
\examples{
\dontrun{
# One-line zonal simulation
ssurgo <- sf::st_read("mapunits.shp")
samples <- sf::st_read("soil_samples.shp")

result <- gc_simulate_by_zones(
  zones = ssurgo,
  data = samples,
  extent = ssurgo,
  resolution = 30,
  nsim = 3
)

terra::plot(result)
}

}
