% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stratigraphic_coordinates.R
\name{gc_stratigraphic_transform}
\alias{gc_stratigraphic_transform}
\title{Transform Coordinates to Stratigraphic Space}
\usage{
gc_stratigraphic_transform(
  data,
  surfaces,
  transform_type = "proportional",
  h_const = 100,
  dip = NULL,
  azimuth = NULL,
  validate = TRUE
)
}
\arguments{
\item{data}{Data frame with x, y, z columns (z = depth in cm, negative downward)}

\item{surfaces}{Output from gc_define_surfaces()}

\item{transform_type}{Character: "proportional", "top_onlap", "bottom_erosional", "rotational"}

\item{h_const}{Numeric: Standard thickness for proportional transform (default 100 cm)}

\item{dip}{Numeric: Dip angle in degrees (0-90) for rotational transform}

\item{azimuth}{Numeric: Azimuth angle in degrees (0-360) for rotational transform}

\item{validate}{Logical: Check for points outside stratigraphic unit (default TRUE)}
}
\value{
Data frame with original columns plus z_strat column
}
\description{
Convert (x, y, z) Cartesian coordinates to (x, y, z_strat) stratigraphic coordinates
using one of four transformation methods.
}
\details{
\strong{Transformation Formulas}:
\enumerate{
\item Proportional: z_strat = (z - z_base) / (z_top - z_base) Ã— h_const
\item Top-Onlap: z_strat = z_top - z
\item Bottom-Erosional: z_strat = z - z_base
\item Rotational: z_strat = R * \link{x, y, z}^T (rotation matrix from dip/azimuth)
}

\strong{Validation}:
\itemize{
\item Points must be within stratigraphic unit: z_base <= z <= z_top
\item Warns if points outside unit (can truncate or error)
}
}
\examples{
\dontrun{
# Proportional transform
surfaces <- gc_define_surfaces(0, -100, type = "constant", ...)
data_strat <- gc_stratigraphic_transform(
  data, surfaces,
  transform_type = "proportional",
  h_const = 100
)

# Rotational for steep slope
data_strat <- gc_stratigraphic_transform(
  data, surfaces,
  transform_type = "rotational",
  dip = 15,
  azimuth = 180
)
}

}
