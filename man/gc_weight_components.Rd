% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_sources.R
\name{gc_weight_components}
\alias{gc_weight_components}
\title{Apply Component Weighting to Soil Samples}
\usage{
gc_weight_components(
  x,
  comp_cols,
  weight_col,
  normalize = TRUE,
  method = "sample_weights"
)
}
\arguments{
\item{x}{Data frame with compositional columns and a weight column}

\item{comp_cols}{Character vector, names of compositional columns}

\item{weight_col}{Character, name of weight column (must exist in samples)}

\item{normalize}{Logical, normalize weights to sum to 1 (default TRUE)}

\item{method}{Character, weighting application method:
\itemize{
\item "sample_weights" (default): return samples with weights column
\item "weighted_mean": aggregate to single weighted composition
\item "quantile_weighted": return weighted quantiles for constraints
}}
}
\value{
\itemize{
\item If method = "sample_weights": data frame with added/modified weight column
\item If method = "weighted_mean": single-row data frame of weighted composition
\item If method = "quantile_weighted": list with quantile-based constraints
}
}
\description{
Weight compositional samples (typically soil components) based on their
relative importance (e.g., component percent, expert opinion, etc.).
Useful for aggregating multi-component map units to representative
single-component simulations.
}
\examples{
soil_samples <- data.frame(
  sand = c(35, 25, 45),
  silt = c(50, 60, 40),
  clay = c(15, 15, 15),
  comppct = c(60, 25, 15)  # Component percent as weight
)

# Apply weighting
weighted_samples <- gc_weight_components(
  soil_samples,
  comp_cols = c("sand", "silt", "clay"),
  weight_col = "comppct",
  method = "sample_weights"
)

}
